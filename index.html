<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FelixFreebet - Download APK Gacor Terupdate Setiap Hari</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <link rel="preconnect" href="https://res.cloudinary.com">
    <style>
        /* CSS Reset dan Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        :root {
            --primary: #22c55e;
            --secondary: #166534;
            --accent: #facc15;
            --neutral: #f3f4f6;
            --dark: #1f2937;
            --light: #ffffff;
            --gray: #9ca3af;
            --gray-dark: #6b7280;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --radius: 12px;
            --transition: all 0.3s ease;
        }

        body {
            background-color: #0f172a;
            color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Container dengan mobile first (3 kolom grid) */
        .container {
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            padding: 0 12px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            padding: 9px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            position: relative;
            margin-bottom: 20px;
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 15px;
            justify-content: center;
        }

        .logo {
            color: white;
            font-size: 36px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .title-container h1 {
            font-size: 24px;
            color: white;
            line-height: 1.2;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .title-container p {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
        }

        /* Statistik Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #1e293b, #334155);
            border-radius: var(--radius);
            padding: 16px 12px;
            text-align: center;
            box-shadow: var(--shadow);
            border: 1px solid rgba(34, 197, 94, 0.2);
        }

        .stat-value {
            font-size: 26px;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 12px;
            color: var(--gray);
        }

        /* Search dan Filter */
        .search-section {
            margin-bottom: 25px;
        }

        .search-bar {
            width: 100%;
            padding: 16px 20px;
            background: #1e293b;
            border: 2px solid var(--primary);
            border-radius: var(--radius);
            font-size: 16px;
            margin-bottom: 16px;
            transition: var(--transition);
            color: white;
        }

        .search-bar::placeholder {
            color: var(--gray);
        }

        .search-bar:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.3);
        }

        .filter-container {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding-bottom: 10px;
            padding-top: 10px;
        }

        .filter-container::-webkit-scrollbar {
            height: 6px;
        }

        .filter-container::-webkit-scrollbar-thumb {
            background-color: var(--primary);
            border-radius: 4px;
        }

        .filter-btn {
            padding: 12px 20px;
            background-color: #1e293b;
            border: 1px solid #475569;
            border-radius: 25px;
            font-size: 10px;
            font-weight: 1000;
            white-space: nowrap;
            cursor: pointer;
            transition: var(--transition);
            color: var(--light);
        }

        .filter-btn.active,
        .filter-btn:hover {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-color: var(--primary);
            transform: translateY(-2px);
        }
        /* Facebook Button Header */

.fb-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    background: linear-gradient(135deg, #1877f2, #0d5bc1);
    color: white;
    padding: 8px 14px;
    border-radius: 10px;
    font-size: 13px;
    font-weight: 700;
    text-decoration: none;
    box-shadow: 0 4px 10px rgba(24,119,242,0.4);
    transition: all 0.3s ease;
}

.fb-btn i {
    font-size: 14px;
}

.fb-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(24,119,242,0.6);
    background: linear-gradient(135deg, #0d5bc1, #1877f2);
}

        /* Grid APK - 3 KOLOM SEPERTI SCREENSHOT */
        .grid-section {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 22px;
            margin-bottom: 20px;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--accent);
        }

        /* GRID 3 KOLOM */
        .apk-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 18px;
}

        /* CARD STYLE SEPERTI SCREENSHOT */
        .apk-card {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            transition: var(--transition);
            position: relative;
            border: 1px solid rgba(34, 197, 94, 0.1);
            display: flex;
            flex-direction: column;
            backdrop-filter: blur(6px);
            min-height: 260px;
            min-height: 00px;
        }
        /* OVERLAY WARNA TIPIS BERDASARKAN KATEGORI */

.apk-card::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 16px;
    z-index: 0;
    pointer-events: none;
}

/* pastikan konten di atas overlay */
.apk-card > * {
    position: relative;
    z-index: 2;
}

        .apk-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
            border-color: var(--primary);
        }

        /* BADGE KATEGORI DI ATAS GAMBAR */
        .apk-badge {
    position: absolute;
    top: 8px;
    left: 8px;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    font-size: 10px;
    padding: 4px 10px;
    border-radius: 10px;
    font-weight: 600;
    z-index: 5;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
/* WARNA PER KATEGORI */

.badge-hot {
    background: linear-gradient(135deg, #ef4444, #b91c1c);
}

.badge-new {
    background: linear-gradient(135deg, #3b82f6, #1d4ed8);
}

.badge-trending {
    background: linear-gradient(135deg, #facc15, #ca8a04);
    color: #1e293b;
}

.badge-gacor {
    background: linear-gradient(135deg, #22c55e, #166534);
}

.badge-default {
    background: linear-gradient(135deg, #64748b, #334155);
}
/* HOT */
.apk-card:has(.badge-hot)::before {
    background: linear-gradient(180deg, rgba(239,68,68,0.12), transparent 60%);
}

/* NEW */
.apk-card:has(.badge-new)::before {
    background: linear-gradient(180deg, rgba(59,130,246,0.12), transparent 60%);
}

/* TRENDING */
.apk-card:has(.badge-trending)::before {
    background: linear-gradient(180deg, rgba(250,204,21,0.12), transparent 60%);
}

/* GACOR */
.apk-card:has(.badge-gacor)::before {
    background: linear-gradient(180deg, rgba(34,197,94,0.12), transparent 60%);
}

/* DEFAULT */
.apk-card:has(.badge-default)::before {
    background: linear-gradient(180deg, rgba(148,163,184,0.08), transparent 60%);
}

.apk-card::before {
    animation: softGlow 6s ease-in-out infinite;
}

@keyframes softGlow {
    0% { opacity: 0.6; }
    50% { opacity: 1; }
    100% { opacity: 0.6; }
}

        /* GAMBAR BESAR SEPERTI SCREENSHOT */
      .apk-image {
    width: 100%;
    height: 160px;
    background: linear-gradient(180deg, #020617, #0f172a);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 16px;
    position: relative;
    overflow: hidden;
}

  
        .apk-image img {
    width: 120px;
    height: 120px;
    object-fit: contain;
    border-radius: 22px;
    background: rgba(255,255,255,0.06);
    padding: 12px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.45);
    position: relative;
    z-index: 2;
}
.apk-card:hover .apk-image img {
    transform: scale(1.08);
}
.apk-image::before {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top, rgba(34,197,94,0.15), transparent 70%);
    z-index: 0;
    pointer-events: none;
}
        /* KONTEN CARD */
        .apk-content {
    padding: 12px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

        /* NAMA APLIKASI BESAR */
        .apk-name {
    font-weight: 1000;
    font-size: 54px;
    margin-bottom: 1px;
    color: white;
    line-height: 1.3;
    height: 30px;
    overflow: hidden;
}

        /* TOMBOL DOWNLOAD BESAR SEPERTI SCREENSHOT */
        .apk-download-btn {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    border: none;
    border-radius: 10px;
    padding: 12px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1px;
    cursor: pointer;
    transition: var(--transition);
    font-weight: 1000;
    font-size: 13px;
}
        
        .btn-hot { background: linear-gradient(135deg, #ef4444, #b91c1c); }
.btn-new { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
.btn-trending { background: linear-gradient(135deg, #facc15, #ca8a04); color:#1e293b; }
.btn-gacor { background: linear-gradient(135deg, #22c55e, #166534); }

        .apk-download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(34, 197, 94, 0.5);
            background: linear-gradient(135deg, #16a34a, #14532d);
        }

        /* Live Activity */
        .activity-section {
            margin-bottom: 40px;
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(34, 197, 94, 0.1);
        }

        .activity-container {
            background: #0f172a;
            border-radius: var(--radius);
            padding: 15px;
            overflow: hidden;
            position: relative;
            min-height: 160px;
            border: 1px solid #334155;
        }

        .activity-item {
            padding: 15px;
            border-bottom: 1px solid #334155;
            transition: transform 0.5s ease;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-type {
            display: inline-block;
            background: linear-gradient(135deg, var(--accent), #ca8a04);
            color: #1e293b;
            font-size: 11px;
            padding: 4px 12px;
            border-radius: 15px;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .activity-text {
            font-size: 14px;
            line-height: 1.4;
            color: #e2e8f0;
        }

        .activity-name {
            font-weight: 700;
            color: var(--primary);
        }

        .activity-app {
            font-weight: 700;
            color: var(--accent);
            font-style: italic;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: var(--light);
            padding: 40px 0 25px;
            margin-top: 40px;
            border-top: 3px solid var(--primary);
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .footer-section h3 {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section li {
            margin-bottom: 10px;
        }

        .footer-section a {
            color: #cbd5e1;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-section a:hover {
            color: var(--primary);
            transform: translateX(5px);
        }

        .copyright {
            text-align: center;
            padding-top: 25px;
            border-top: 1px solid #334155;
            font-size: 14px;
            color: var(--gray);
            margin-top: 20px;
        }

        /* Modal Syarat Ketentuan - BUTTON FIXED */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: var(--radius);
            padding: 30px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.7);
            animation: modalFadeIn 0.3s ease;
            position: relative;
            display: flex;
            flex-direction: column;
            min-height: 400px;
            border: 2px solid var(--primary);
            color: white;
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-title {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
            text-align: center;
            justify-content: center;
        }

        .modal-title i {
            color: var(--accent);
        }

        .modal-body {
            margin-bottom: 30px;
            font-size: 15px;
            flex-grow: 1;
            overflow-y: auto;
            padding-right: 10px;
            color: #cbd5e1;
        }

        .modal-body p {
            margin-bottom: 15px;
        }

        .modal-body ul {
            margin-left: 20px;
            margin-bottom: 20px;
        }

        .modal-body li {
            margin-bottom: 10px;
            padding-left: 5px;
        }

        /* BUTTON FIXED di bagian bawah modal */
        .modal-actions {
            display: flex;
            justify-content: center;
            padding-top: 25px;
            border-top: 1px solid #334155;
            background: linear-gradient(135deg, #1e293b, #0f172a);
            position: sticky;
            bottom: 0;
            z-index: 10;
            margin-top: auto;
        }

        .modal-btn {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: var(--radius);
            padding: 18px 40px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
            max-width: 300px;
            box-shadow: 0 8px 20px rgba(34, 197, 94, 0.3);
        }

        .modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(34, 197, 94, 0.5);
            background: linear-gradient(135deg, #16a34a, #14532d);
        }

        /* Modal Detail APK */
        .apk-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1001;
            padding: 20px;
        }

        .apk-modal-content {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: var(--radius);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.7);
            animation: modalFadeIn 0.3s ease;
            position: relative;
            border: 2px solid var(--primary);
            color: white;
        }

        .apk-modal-header {
            padding: 25px;
            border-bottom: 1px solid #334155;
            display: flex;
            align-items: center;
            gap: 20px;
            background: rgba(15, 23, 42, 0.8);
        }

        .apk-modal-icon {
            width: 90px;
            height: 90px;
            background: linear-gradient(135deg, #334155, #1e293b);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .apk-modal-icon img {
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
            border-radius: 15px;
        }

        .apk-modal-title h2 {
            font-size: 24px;
            color: white;
            margin-bottom: 8px;
        }

        .apk-modal-category {
            font-size: 14px;
            color: var(--gray);
        }

        .apk-modal-rating {
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--accent);
            font-size: 16px;
            margin-top: 8px;
        }

        .apk-modal-body {
            padding: 25px;
        }

        .apk-modal-info {
            margin-bottom: 30px;
            background: rgba(15, 23, 42, 0.6);
            border-radius: var(--radius);
            padding: 20px;
        }

        .apk-modal-info-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #334155;
        }

        .apk-modal-info-item:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: 600;
            color: var(--primary);
        }

        .info-value {
            color: #e2e8f0;
        }

        .apk-modal-description {
            margin-bottom: 30px;
            background: rgba(15, 23, 42, 0.6);
            border-radius: var(--radius);
            padding: 20px;
        }

        .apk-modal-description h3 {
            font-size: 18px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .apk-modal-actions {
            position: sticky;
            bottom: 0;
            background: linear-gradient(135deg, #1e293b, #0f172a);
            padding: 25px;
            border-top: 1px solid #334155;
            display: flex;
            gap: 15px;
        }

        .apk-modal-download-btn {
            flex-grow: 1;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: var(--radius);
            padding: 20px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            box-shadow: 0 8px 20px rgba(34, 197, 94, 0.3);
        }

        .apk-modal-download-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 25px rgba(34, 197, 94, 0.5);
            background: linear-gradient(135deg, #16a34a, #14532d);
        }

        .apk-modal-close {
            background: #334155;
            color: white;
            border: none;
            border-radius: var(--radius);
            padding: 20px 25px;
            font-size: 16px;
            cursor: pointer;
            transition: var(--transition);
            font-weight: 600;
        }

        .apk-modal-close:hover {
            background: #475569;
            transform: translateY(-2px);
        }

        /* Loading State */
        .loading {
            text-align: center;
            padding: 60px 20px;
            grid-column: 1 / -1;
            background: #1e293b;
            border-radius: var(--radius);
            margin: 20px 0;
        }

        .loading i {
            font-size: 50px;
            color: var(--primary);
            margin-bottom: 20px;
        }

        .loading p {
            color: #cbd5e1;
            font-size: 16px;
        }
/* =============================== */
/* MAIN BACKGROUND ANIMATED GRID */
/* =============================== */

body::before {
    content: "";
    position: fixed;
    inset: 0;
    background-image:
        linear-gradient(rgba(34,197,94,0.08) 1px, transparent 1px),
        linear-gradient(90deg, rgba(34,197,94,0.08) 1px, transparent 1px);
    background-size: 50px 50px;
    animation: mainGridMove 40s linear infinite;
    z-index: -1;
    pointer-events: none;
}

@keyframes mainGridMove {
    from {
        background-position: 0 0;
    }
    to {
        background-position: 300px 300px;
    }
}
        /* Animasi untuk live activity */
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .activity-item {
            animation: slideIn 0.5s ease;
        }

        /* Utility Classes */
        .hidden {
            display: none !important;
        }

        .text-center {
            text-align: center;
        }

        .mt-1 { margin-top: 10px; }
        .mt-2 { margin-top: 20px; }
        .mt-3 { margin-top: 30px; }
        .mb-1 { margin-bottom: 10px; }
        .mb-2 { margin-bottom: 20px; }
        .mb-3 { margin-bottom: 30px; }

        /* Responsive */
        @media (min-width: 768px) {
            .container {
                max-width: 720px;
                padding: 0 20px;
            }
            
            .stats-bar {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .footer-content {
                flex-direction: row;
                justify-content: space-between;
            }
            
            .modal-content {
                min-height: 450px;
            }
        }

        

        /* Untuk layar sangat kecil, jadi 2 kolom */
        @media (max-width: 400px) {

    .apk-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
    }

    .apk-image {
    height: 160px;
}

    .apk-name {
        font-size: 13px;
    }

}
}
        }
    </style>
</head>
<body>
<div class="bg-animation">
    <span></span>
    <span></span>
    <span></span>
</div>
    <!-- Modal Syarat & Ketentuan Awal - BUTTON FIXED -->
    <div id="termsModal" class="modal-overlay">
        <div class="modal-content">
            <h2 class="modal-title"><i class="fas fa-exclamation-triangle"></i> PERINGATAN & SYARAT KETENTUAN</h2>
            <div class="modal-body">
                <p>Selamat datang di <strong>FelixFreebet</strong> - Platform download APK terupdate setiap hari.</p>
                <p>Dengan mengakses dan menggunakan situs ini, Anda setuju untuk mematuhi syarat dan ketentuan berikut:</p>
                <ul>
                    <li>Situs ini hanya untuk tujuan hiburan dan informasi.</li>
                    <li>Pengguna bertanggung jawab penuh atas penggunaan aplikasi yang didownload.</li>
                    <li>Kami tidak bertanggung jawab atas kerugian atau masalah yang timbul dari penggunaan aplikasi.</li>
                    <li>Pengguna wajib mematuhi hukum yang berlaku di wilayahnya masing-masing.</li>
                    <li>Kami berhak mengubah syarat dan ketentuan tanpa pemberitahuan sebelumnya.</li>
                    <li>APK yang tersedia di platform ini diperbarui setiap hari untuk performa terbaik.</li>
                    <li>Semua aplikasi telah melalui screening awal untuk keamanan dasar.</li>
                    <li>Pengguna disarankan untuk menggunakan antivirus pada perangkat masing-masing.</li>
                    <li>Minimal usia pengguna adalah 18 tahun atau sesuai hukum setempat.</li>
                    <li>Penggunaan aplikasi untuk kegiatan ilegal sepenuhnya tanggung jawab pengguna.</li>
                </ul>
                <p>Dengan menekan tombol "SAYA PAHAM", Anda menyetujui semua syarat dan ketentuan di atas.</p>
                <p><strong>Perhatian:</strong> Jangan bagikan informasi pribadi Anda kepada siapapun.</p>
                <p><strong>Tips Keamanan:</strong> Selalu periksa izin aplikasi sebelum menginstal.</p>
            </div>
            <!-- BUTTON FIXED di bagian bawah -->
            <div class="modal-actions">
                <button id="agreeBtn" class="modal-btn">SAYA PAHAM</button>
            </div>
        </div>
    </div>

    <!-- Modal Detail APK -->
    <div id="apkModal" class="apk-modal-overlay">
        <div class="apk-modal-content">
            <div class="apk-modal-header">
                <div class="apk-modal-icon">
                    <img id="modalAppIcon" src="https://cdn-icons-png.flaticon.com/512/888/888879.png" alt="App Icon">
                </div>
                <div class="apk-modal-title">
                    <h2 id="modalAppName">Nama Aplikasi</h2>
                    <div class="apk-modal-category">
                        <span id="modalAppCategory">Kategori</span>
                    </div>
                    <div class="apk-modal-rating">
                        <i class="fas fa-star"></i>
                        <span id="modalAppRating">0.0</span>
                    </div>
                </div>
            </div>
            
            <div class="apk-modal-body">
                <div class="apk-modal-info">
                    <div class="apk-modal-info-item">
                        <span class="info-label">Pembuat</span>
                        <span class="info-value" id="modalAppDeveloper">-</span>
                    </div>
                    <div class="apk-modal-info-item">
                        <span class="info-label">Ukuran File</span>
                        <span class="info-value" id="modalAppSize">-</span>
                    </div>
                    <div class="apk-modal-info-item">
                        <span class="info-label">Dilihat</span>
                        <span class="info-value" id="modalAppViews">0</span>
                    </div>
                    <div class="apk-modal-info-item">
                        <span class="info-label">Diunduh</span>
                        <span class="info-value" id="modalAppDownloads">0</span>
                    </div>
                </div>
                
                <div class="apk-modal-description">
                    <h3>Deskripsi Aplikasi</h3>
                    <p id="modalAppDescription">Deskripsi aplikasi akan ditampilkan di sini.</p>
                </div>
                
                <div class="apk-modal-description">
                    <h3>Info APK</h3>
                    <p id="modalAppInfo">Informasi tambahan tentang APK.</p>
                </div>
            </div>
            
            <div class="apk-modal-actions">
                <button id="modalCloseBtn" class="apk-modal-close">Tutup</button>
                <button id="modalDownloadBtn" class="apk-modal-download-btn">
                    <i class="fas fa-download"></i> Download APK
                </button>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
    
    <div class="logo">
        <i class="fab fa-gg-circle"></i>
    </div>

    <div class="title-container">
        <h1>FelixFreebet</h1>
        <p>Download APK Gacor Terupdate Setiap Hari</p>
    </div>

    <!-- FB BUTTON -->
    <a href="https://www.facebook.com/profile.php?id=100076555234710" 
       target="_blank" 
       class="fb-btn">
        <i class="fab fa-facebook-f"></i>
        FB
    </a>

            </div>
        </div>
    </header>

    <main class="container">
        

        <!-- Search dan Filter -->
        <section class="search-section">
            <input type="text" id="searchInput" class="search-bar" placeholder="Cari aplikasi...">
            
            <div class="filter-container">
                <button class="filter-btn active" data-filter="all">SEMUA</button>
                <button class="filter-btn" data-filter="hot">HOT</button>
                <button class="filter-btn" data-filter="new">NEW</button>
                <button class="filter-btn" data-filter="trending">TRENDING</button>
                <button class="filter-btn" data-filter="gacor">GACOR</button>
            </div>
        </section>

        <!-- Grid APK - 3 KOLOM SEPERTI SCREENSHOT -->
        <section class="grid-section">
            <h2 class="section-title"><i class="fas fa-rocket"></i> APK GACOR TERBARU</h2>
            <div id="apkGrid" class="apk-grid">
                <!-- APK akan di-load dari Firestore di sini -->
                <div class="loading">
                    <i class="fas fa-spinner fa-spin"></i>
                    <p>Memuat aplikasi...</p>
                </div>
            </div>
        </section>

<!-- Statistik -->
        <section class="stats-bar">
            <div class="stat-card">
                <div class="stat-value" id="dailyVisitors">0</div>
                <div class="stat-label">Pengunjung Harian</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalDownloads">0</div>
                <div class="stat-label">Download Harian</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">4.8</div>
                <div class="stat-label">Rating Web</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalApks">0</div>
                <div class="stat-label">Total APK</div>
            </div>
        </section>

        <!-- Live Activity -->
        <section class="activity-section">
            <h2 class="section-title"><i class="fas fa-bolt"></i> Aktivitas Terkini</h2>
            <div class="activity-container">
                <div id="activityItems">
                    <!-- Aktivitas akan di-generate secara dinamis -->
                    <div class="activity-item">
                        <div class="activity-type">Withdraw</div>
                        <div class="activity-text"><span class="activity-name">BUDI</span> withdraw 350.000 di <span class="activity-app">FelixSlot</span></div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-type">Komentar</div>
                        <div class="activity-text"><span class="activity-name">CACA</span> : <span class="activity-app">FelixPoker</span> mantap banget!</div>
                    </div>
                    <div class="activity-item">
                        <div class="activity-type">Download</div>
                        <div class="activity-text"><span class="activity-name">DEDI</span> baru download <span class="activity-app">FelixTogel</span></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>FelixFreebet</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-download"></i> Download APK</a></li>
                        <li><a href="#"><i class="fas fa-info-circle"></i> Tentang Kami</a></li>
                        <li><a href="#"><i class="fas fa-envelope"></i> Kontak</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Info</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-shield-alt"></i> Keamanan</a></li>
                        <li><a href="#"><i class="fas fa-question-circle"></i> Bantuan</a></li>
                        <li><a href="#"><i class="fas fa-sync-alt"></i> Pembaruan</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Aturan</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-gavel"></i> Syarat & Ketentuan</a></li>
                        <li><a href="#"><i class="fas fa-lock"></i> Kebijakan Privasi</a></li>
                        <li><a href="#"><i class="fas fa-exclamation-triangle"></i> Peringatan</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 FelixFreebet. Semua hak dilindungi undang-undang.</p>
            </div>
        </div>
    </footer>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB4LXzb55K6weYiWrMm_bMkd4O0k0Q8w00",
            authDomain: "felixfreebet.firebaseapp.com",
            projectId: "felixfreebet",
            storageBucket: "felixfreebet.firebasestorage.app",
            messagingSenderId: "407789900601",
            appId: "1:407789900601:web:a23a8431ffd74e854f8ee8"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Variabel Global
        let allApps = [];
        let currentFilter = 'all';
        let searchQuery = '';
        let currentAppId = null;
        
        // ================================
// FUNCTION ACAK URUTAN APK (SHUFFLE)
// ================================
function shuffleArray(array) {
    let shuffled = [...array]; // copy supaya data asli aman

    for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));

        // tukar posisi
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }

    return shuffled;
}
        
        // Data Dummy untuk Aktivitas
        const dummyNames = [

/* PRIA */
'Budi','Agus','Adi','Dani','Dedi','Rizki','Fajar','Andi','Irfan','Hafiz',
'Ridho','Arif','Yoga','Bayu','Arya','Rama','Raka','Ilham','Ferdi','Hendra',
'Joko','Tono','Teguh','Bambang','Sutris','Santoso','Priyo','Haryo','Slamet','Suyanto',
'Dewa','Wahyu','Rendi','Rio','Dimas','Reza','Bagas','Alvin','Robby','Fikri',
'Riyan','Ikhsan','Maulana','Zaki','Naufal','Azka','Farhan','Aldi','Kevin','Rizal',
'Putra','Pratama','Fauzan','Akbar','Hanif','Kurnia','Setiawan','Saputra','Wijaya','Susanto',

'Asep','Ujang','Cecep','Dadang','Usep','Didin','Eman','Udin','Entis','Aang',
'Rohman','Saepul','Yayan','Dadan','Herman','Jajang','Soleh','Ridwan','Iwan','Agung',

'Rangga','Surya','Bagus','Galang','Yudha','Arman','Robby','Egi','Rizwan','Ardi',
'Rizaldi','Alif','Iqbal','Fathur','Fikran','Hilmi','Azmi','Rifki','Ammar','Zidan',

'Rizky','Rahmat','Basri','Hamzah','Ismail','Jamal','Hasan','Husein','Yusuf','Imam',
'Fauzi','Fahrul','Zulfikar','Zainal','Abdul','Salman','Azhar','Kamal','Latif','Nizar',

/* WANITA */
'Siti','Aisyah','Dewi','Aulia','Putri','Nabila','Nadya','Intan','Rina','Wulan',
'Sari','Fitri','Lestari','Kartika','Melati','Citra','Anisa','Salma','Nia','Ayu',
'Rahayu','Ratna','Indah','Permata','Tiara','Zahra','Azzahra','Syifa','Kirana','Aurel',
'Karina','Bella','Dinda','Novi','Eka','Riska','Maya','Tasya','Vina','Yuni',

'Nur','Nuri','Ningsih','Sri','Sulastri','Sukma','Puspita','Anggraini','Febri','April',
'Putriana','Ainun','Halima','Nafisa','Azizah','Ameera','Zara','Noura','Safira','Qisya',

'Keysha','Keisha','Alya','Almira','Nayla','Hana','Farah','Aina','Rani','Lia',
'Selvi','Salsa','Gita','Astri','Aurellya','Zivana','Nisya','Yasmin','Amelia','Nathalia',

'Mutiara','Cahaya','Sekar','Mentari','Bunga','Mega','Riska','Wahyuni','Rofiqah','Latifah',

/* NETRAL / UMUM */
'Alex','Rere','Dio','Rafi','Niko','Adit','Evan','Rama','Vito','Reno',
'Ara','Nara','Kayla','Kezia','Elina','Celine','Nina','Fina','Tomi','Ferry'

];
        const activityTypes = [
'Withdraw',
'Download',
'Komentar',
'Top Up',
'Deposit',
'Daftar',
'Claim Bonus',
'Update APK',
'Login',
'Review'
];
        
        // Inisialisasi halaman
        document.addEventListener('DOMContentLoaded', function() {
            // Cek localStorage untuk modal syarat ketentuan
            const termsAccepted = localStorage.getItem('felixfreebet_terms_accepted');
            if (!termsAccepted) {
                document.getElementById('termsModal').style.display = 'flex';
            } else {
                document.getElementById('termsModal').style.display = 'none';
            }
            
            // Setup event listeners
            setupEventListeners();
            
            // Inisialisasi statistik fake
            initFakeStats();
            
            // Load data APK dari Firestore
            loadAppsFromFirestore();
        });

        // Setup Event Listeners
        function setupEventListeners() {
            // Tombol setuju syarat ketentuan
            document.getElementById('agreeBtn').addEventListener('click', function() {
                localStorage.setItem('felixfreebet_terms_accepted', 'true');
                document.getElementById('termsModal').style.display = 'none';
            });
            
            // Search input
            document.getElementById('searchInput').addEventListener('input', function(e) {
                searchQuery = e.target.value.toLowerCase();
                filterApps();
            });
            
            // Filter buttons
            document.querySelectorAll('.filter-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    currentFilter = this.getAttribute('data-filter');
                    filterApps();
                });
            });
            
            // Modal close button
            document.getElementById('modalCloseBtn').addEventListener('click', closeApkModal);
            
            // Modal download button
            document.getElementById('modalDownloadBtn').addEventListener('click', handleDownload);
            
            // Close modal when clicking outside
            document.getElementById('apkModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeApkModal();
                }
            });
        }

        // Inisialisasi Fake Statistics
        function initFakeStats() {
            // Daily visitors counter
            let visitors = Math.floor(Math.random() * 500) + 8000;
            let visitorCounter = 0;
            const visitorInterval = setInterval(() => {
                if (visitorCounter <= visitors) {
                    document.getElementById('dailyVisitors').textContent = visitorCounter.toLocaleString();
                    visitorCounter += Math.floor(Math.random() * 10) + 5;
                } else {
                    clearInterval(visitorInterval);
                }
            }, 50);
            
            // Total downloads counter
            let downloads = Math.floor(Math.random() * 2000) + 3500;
            let downloadCounter = 0;
            const downloadInterval = setInterval(() => {
                if (downloadCounter <= downloads) {
                    document.getElementById('totalDownloads').textContent = downloadCounter.toLocaleString();
                    downloadCounter += Math.floor(Math.random() * 20) + 10;
                } else {
                    clearInterval(downloadInterval);
                }
            }, 30);
        }

     // Live Activity Rotation (UPGRADED)
function startActivityRotation() {

    const activityContainer = document.getElementById('activityItems');

    // WEIGHTED ACTIVITY (lebih realistis)
    const weightedActivities = [
        'Download','Download','Download',
        'Komentar','Komentar',
        'Withdraw',
        'Deposit',
        'Top Up',
        'Claim Bonus',
        'Login',
        'Registrasi'
    ];

    const comments = [
        'mantap banget',
        'withdraw lancar',
        'rekomendasi banget',
        'gacor terus nih',
        'baru download langsung menang',
        'top dah aplikasinya',
        'sangat memuaskan',
        'auto WD tanpa ribet'
    ];

    const fallbackApps = ['FelixSlot', 'FelixPoker', 'FelixCasino', 'FelixTogel', 'FelixFreebet'];

    function generateActivityItem() {

        const name = dummyNames[Math.floor(Math.random() * dummyNames.length)];
        const type = weightedActivities[Math.floor(Math.random() * weightedActivities.length)];

        const randomApp = allApps.length > 0
            ? allApps[Math.floor(Math.random() * allApps.length)]
            : { nama_app: fallbackApps[Math.floor(Math.random() * fallbackApps.length)] };

        const appName = randomApp.nama_app;

        let text = '';

        // RANDOM AMOUNT
        const amount = Math.floor(Math.random() * 500) * 1000 + 50000;

        if (type === 'Withdraw') {

            text = `<span class="activity-name">${name}</span> withdraw ${amount.toLocaleString()} di <span class="activity-app">${appName}</span>`;

        } else if (type === 'Deposit') {

            text = `<span class="activity-name">${name}</span> deposit ${amount.toLocaleString()} di <span class="activity-app">${appName}</span>`;

        } else if (type === 'Top Up') {

            text = `<span class="activity-name">${name}</span> top up saldo ${amount.toLocaleString()}`;

        } else if (type === 'Claim Bonus') {

            text = `<span class="activity-name">${name}</span> klaim bonus harian`;

        } else if (type === 'Komentar') {

            const comment = comments[Math.floor(Math.random() * comments.length)];
            text = `<span class="activity-name">${name}</span> : <span class="activity-app">${appName}</span> ${comment}`;

        } else if (type === 'Download') {

            text = `<span class="activity-name">${name}</span> baru download <span class="activity-app">${appName}</span>`;

        } else if (type === 'Login') {

            text = `<span class="activity-name">${name}</span> baru saja login`;

        } else {

            text = `<span class="activity-name">${name}</span> baru registrasi akun`;

        }

        return `
            <div class="activity-item">
                <div class="activity-type">${type}</div>
                <div class="activity-text">${text}</div>
            </div>
        `;
    }

    // ROTASI ITEM
    const activityInterval = setInterval(() => {

        // hapus item paling atas
        if (activityContainer.children.length > 0) {
            activityContainer.removeChild(activityContainer.children[0]);
        }

        // tambah item baru
        const newItem = generateActivityItem();
        activityContainer.insertAdjacentHTML('beforeend', newItem);

        // animasi masuk
        const items = activityContainer.querySelectorAll('.activity-item');
        if (items.length > 0) {
            items[items.length - 1].style.animation = 'slideIn 0.5s ease';
        }

    }, 1000); // lebih hidup (3.5 detik)

    window.activityInterval = activityInterval;
}

        // Load Apps dari Firestore
        function loadAppsFromFirestore() {
            const apkGrid = document.getElementById('apkGrid');
            
            db.collection("apps")
                .where("status_publish", "==", true)
                .orderBy("created_at", "desc")
                .limit(200)
                .get()
                .then((querySnapshot) => {
                    allApps = [];
                    apkGrid.innerHTML = '';
                    
                    if (querySnapshot.empty) {
                        // Jika tidak ada data, tampilkan placeholder
                        apkGrid.innerHTML = `
                            <div class="loading">
                                <i class="fas fa-box-open"></i>
                                <p>Tidak ada APK tersedia saat ini.</p>
                            </div>
                        `;
                        document.getElementById('totalApks').textContent = '0';
                        return;
                    }
                    
                    // Update total APK count
                    document.getElementById('totalApks').textContent = querySnapshot.size;
                    
                    querySnapshot.forEach((doc) => {
    const appData = doc.data();
    appData.id = doc.id;
    allApps.push(appData);
});

// ============================
// ACAK SEKALI SAAT AWAL MASUK
// ============================

const shuffledApps = shuffleArray(allApps);

// render hasil acak
shuffledApps.forEach(app => {
    const apkCard = createApkCard(app);
    apkGrid.appendChild(apkCard);
});
                    
                    // Mulai live activity rotation setelah data APK dimuat
                    startActivityRotation();
                })
                .catch((error) => {
                    console.error("Error getting documents: ", error);
                    apkGrid.innerHTML = `
                        <div class="loading">
                            <i class="fas fa-exclamation-triangle"></i>
                            <p>Gagal memuat data APK. Silakan refresh halaman.</p>
                        </div>
                    `;
                });
        }

        // Create APK Card Element - SEPERTI SCREENSHOT
        function createApkCard(appData) {
            const card = document.createElement('div');
            card.className = 'apk-card';
            card.dataset.id = appData.id;
            card.dataset.category = appData.kategori || 'umum';
            
            // Format rating untuk filter
            const rating = appData.rating || 0;
            const stars = Math.min(5, Math.max(0, Math.floor(rating)));
            
            // Gunakan icon default jika tidak ada
         let iconUrl = appData.image_icon || '';

// paksa https
if (iconUrl.startsWith('http://')) {
    iconUrl = iconUrl.replace('http://', 'https://');
}

// optimasi cloudinary (auto compress + resize)
if (iconUrl.includes('res.cloudinary.com')) {
    iconUrl = iconUrl.replace('/upload/', '/upload/f_auto,q_auto,w_200/');
}

// fallback final
if (!iconUrl) {
    iconUrl = 'https://cdn-icons-png.flaticon.com/512/888/888879.png';
}

// paksa https
if (iconUrl.startsWith('http://')) {
    iconUrl = iconUrl.replace('http://', 'https://');
}

// fallback kalau kosong
if (!iconUrl) {
    iconUrl = 'https://cdn-icons-png.flaticon.com/512/888/888879.png';
}
            
            // Buat struktur seperti screenshot
            const kategori = (appData.kategori || 'default').toLowerCase();

let badgeClass = 'badge-default';

if (kategori.includes('hot')) badgeClass = 'badge-hot';
else if (kategori.includes('new')) badgeClass = 'badge-new';
else if (kategori.includes('trending')) badgeClass = 'badge-trending';
else if (kategori.includes('gacor')) badgeClass = 'badge-gacor';

card.innerHTML = `
    <div class="apk-badge ${badgeClass}">${appData.kategori || 'APK'}</div>
                <div class="apk-image">
    <img 
        src="${iconUrl}"
        alt="${appData.nama_app}"
        loading="lazy"
        decoding="async"
        onerror="this.onerror=null; this.src='https://cdn-icons-png.flaticon.com/512/888/888879.png';"
    />
</div>
                </div>
                <div class="apk-content">
                    <h3 class="apk-name">${appData.nama_app || 'Aplikasi Tanpa Nama'}</h3>
                    <button class="apk-download-btn ${badgeClass.replace('badge','btn')}">
                        <i class="fas fa-download"></i> â€Ž DOWNLOAD
                    </button>
                </div>
            `;
            
            // Add click event to download button
            card.querySelector('.apk-download-btn').addEventListener('click', function(e) {
                e.stopPropagation();
                openApkModal(appData.id);
            });
            
            // Add click event to entire card
            card.addEventListener('click', function() {
                openApkModal(appData.id);
            });
            
            return card;
        }

        // Filter Apps berdasarkan search dan kategori
        function filterApps() {
            const apkGrid = document.getElementById('apkGrid');
            const cards = apkGrid.querySelectorAll('.apk-card');
            
            cards.forEach(card => {
                const appName = card.querySelector('.apk-name').textContent.toLowerCase();
                const appCategory = card.dataset.category;
                
                // Cek apakah sesuai dengan search query
                const matchesSearch = searchQuery === '' || appName.includes(searchQuery);
                
                // Cek apakah sesuai dengan filter
                let matchesFilter = false;
                if (currentFilter === 'all') {
                    matchesFilter = true;
                } else if (currentFilter === 'hot') {
                    // Untuk demo, kita anggap hot jika kategori HOT
                    matchesFilter = appCategory.toLowerCase() === 'hot' || appCategory.toLowerCase() === 'populer';
                } else if (currentFilter === 'new') {
                    matchesFilter = appCategory.toLowerCase() === 'new' || appCategory.toLowerCase() === 'terbaru';
                } else if (currentFilter === 'trending') {
                    matchesFilter = appCategory.toLowerCase() === 'trending' || appCategory.toLowerCase() === 'viral';
                } else if (currentFilter === 'gacor') {
                    matchesFilter = appCategory.toLowerCase() === 'gacor' || appCategory.toLowerCase().includes('gacor');
                }
                
                // Tampilkan atau sembunyikan card
                if (matchesSearch && matchesFilter) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Open APK Modal
        function openApkModal(appId) {
            currentAppId = appId;
            const appData = allApps.find(app => app.id === appId);
            
            if (!appData) return;
            
            // Update view count di Firestore
            db.collection("apps").doc(appId).update({
                view_count: firebase.firestore.FieldValue.increment(1)
            });
            
            // Update modal content
            document.getElementById('modalAppName').textContent = appData.nama_app || 'Aplikasi Tanpa Nama';
            document.getElementById('modalAppCategory').textContent = appData.kategori || 'APK';
            document.getElementById('modalAppRating').textContent = (appData.rating || 0).toFixed(1);
            document.getElementById('modalAppDeveloper').textContent = appData.pembuat || '-';
            document.getElementById('modalAppSize').textContent = appData.ukuran_file || '-';
            document.getElementById('modalAppDescription').textContent = appData.deskripsi || 'Tidak ada deskripsi tersedia.';
            document.getElementById('modalAppInfo').textContent = appData.info_apk || 'Tidak ada informasi tambahan.';
            document.getElementById('modalAppViews').textContent = (appData.view_count || 0).toLocaleString();
            document.getElementById('modalAppDownloads').textContent = (appData.download_count || 0).toLocaleString();
            
            // Update icon
            const modalIcon = document.getElementById('modalAppIcon');
            let modalIconUrl = appData.image_icon || '';

// paksa https
if (modalIconUrl.startsWith('http://')) {
    modalIconUrl = modalIconUrl.replace('http://', 'https://');
}

// cloudinary optimize
if (modalIconUrl.includes('res.cloudinary.com')) {
    modalIconUrl = modalIconUrl.replace('/upload/', '/upload/f_auto,q_auto,w_300/');
}

// fallback
if (!modalIconUrl) {
    modalIconUrl = 'https://cdn-icons-png.flaticon.com/512/888/888879.png';
}

modalIcon.src = modalIconUrl;
            modalIcon.alt = appData.nama_app || 'App Icon';
            
            // Show modal
            document.getElementById('apkModal').style.display = 'flex';
        }

        // Close APK Modal
        function closeApkModal() {
            document.getElementById('apkModal').style.display = 'none';
            currentAppId = null;
        }

        // Handle Download
        function handleDownload() {
            if (!currentAppId) return;
            
            const appData = allApps.find(app => app.id === currentAppId);
            
            if (!appData || !appData.link_download) {
                alert('Link download tidak tersedia!');
                return;
            }
            
            // Update download count di Firestore
            db.collection("apps").doc(currentAppId).update({
                download_count: firebase.firestore.FieldValue.increment(1)
            });
            
            // Redirect ke link download
            window.open(appData.link_download, '_blank');
            
            // Update tampilan modal
            const currentDownloads = parseInt(document.getElementById('modalAppDownloads').textContent.replace(/,/g, '') || 0);
            document.getElementById('modalAppDownloads').textContent = (currentDownloads + 1).toLocaleString();
            
            // Update statistik fake total downloads
            const totalDownloadsEl = document.getElementById('totalDownloads');
            const currentTotal = parseInt(totalDownloadsEl.textContent.replace(/,/g, '') || 0);
            totalDownloadsEl.textContent = (currentTotal + 1).toLocaleString();
            
            // Tutup modal setelah 1 detik
            setTimeout(() => {
                closeApkModal();
            }, 1000);
        }
    </script>
</body>
</html>
